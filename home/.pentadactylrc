set activate-=diverted,links,tabopen
set complete=ls
set defsearch=duckduckgo-ssl
set editor='emacsclient +<line> <file>'
set guioptions+=c
set ssli=command
set hintkeys=$.aoeupykxidhtnmz
set hinttimeout=1000
set history=5
set hlfind
set maxitems=5
set newtab=help
set nextpattern^=›
set pageinfo=fgmse
set passkeys=google.com/reader:'vf/ npSsmrgaeUNPXO'
set passkeys+=mail.google.com/mail/:'jkpnu#'
set urlseparator=' , '

map s <C-c>

set! browser.anchor_color="#6c71c4"
set! browser.backspace_action=0
set! browser.display.background_color="#fdf6e3"
set! browser.display.foreground_color="#839496"
set! browser.newtab.enabled=false
set! browser.sessionstore.max_concurrent_tabs=0
set! browser.sessionstore.restore_on_demand=true
set! browser.startup.page=3
set! browser.tabs.closeButtons=2
set! browser.tabs.loadDivertedInBackground=true
set! downbar.display.clearButton=false
set! downbar.display.mainButton=false
set! downbar.display.speed=false
set! downbar.display.toMiniButton=true
set! downbar.function.ignoreFiletypes="torrent"
set! downbar.function.removeOnOpen=false
set! downbar.function.soundOnComplete=1
set! downbar.style.speedColor0="0;#dc322f"
set! downbar.style.speedColor1="50;#b58900"
set! downbar.style.speedColor2="200;#859900"
set! downbar.style.speedColor3="400;#2aa198"
set! downbar.style.speedColorsEnabled=true
set! downbar.style.useGradients=false
set! extensions.checkCompatibility.nightly=false
set! extensions.firebug.openInWindow=true
set! font.default.x-unicode="sans-serif"
set! font.default.x-western="sans-serif"
set! keyword.URL="https://duckduckgo.com/?q="
set! middlemouse.contentLoadURL=false
set! noscript.sync.enabled=true
set! security.warn_viewing_mixed=false
set! toolkit.telemetry.enabled=true
set! ui.key.contentAccess=6
set! ui.key.menuAccessKey=0

" thanks to Un-UTM Location Bar by Bruno Barão at https://www.userscripts.org/scripts/show/93825 for the code
autocmd DOMLoad utm_ -js win.history.replaceState("Removed UTM Parameters", '', win.location.toString().replace(/utm_.*?(&|$)/g,'').replace(/(&|\?)$/,''))

" trigger on PageLoad so that the password is filled in
autocmd PageLoad hb4pm4eznzhd6mts.onion/.+train\.php -js let b = doc.querySelector('[value="Login"]'); if(b) b.form.submit()
autocmd LocationChange http://hb4pm4eznzhd6mts.onion/pe/async/asynctrain.php -js try { doc.querySelector('#good button').focus() } catch (e){}
" trigger on PageLoad in async to ensure the elements exist
autocmd PageLoad http://hb4pm4eznzhd6mts.onion/pe/async/asynctrain.php -javascript <<EOS
try {
    doc.querySelector('#good button').accessKey='e';
    doc.querySelector('#bad  button').accessKey=',';
    doc.querySelector('select').accessKey='u'
} catch (e){}
EOS
" trigger on DOMLoad to judge with extreme prejudice
autocmd DOMLoad http://hb4pm4eznzhd6mts.onion/pe/train.php -javascript <<EOS
try {
    doc.querySelector('[value="Good"]').accessKey='e';
    doc.querySelector('[value="Bad"]').accessKey=',';
    doc.querySelector('select').accessKey='u'
} catch (e){}
EOS
style -n "yape space" http://hb4pm4eznzhd6mts.onion/pe/train.php,http://hb4pm4eznzhd6mts.onion/pe/async/asynctrain.php << EOS
td img { margin-right: 500px; max-width: 930px; max-height: 830px }
body { margin: 0 }
td { padding: 0 !important }
[name=width], [name=height], #settings td>:not(select), [type='text'] { display: none }
EOS

map <m-f> javascript document.getElementById("viewer-entries-container").focus()
style -n "greader popping" https://www.google.com/reader/view/* <<EOS
.entry-actions { display: block !important }
.read-state, .tag { float: right }
#chrome-fullscreen-top-toggle { display: none !important }
EOS

style -n "link colors" * :visited { color: #d33682 !important } :link[href^="#"] { color: #268bd2 !important }
style -n "gif decor" * <<EOS
:-moz-any(
  [src*="forgifs"]
, [src*="fukung"]
, [src*="imgur"]
, [src*="kuvaton"]
, [src*="myconfinedspace"]
, [src*="tumblr"]
)[src$=".gif"] { border-right: 2px dotted teal !important }
EOS

style -n "link decor: good hosts" * <<EOS
  [href*="depositfiles.com/"] /* clean UI, reasonable waiting */
, [href*="hotfile.com/"]
, [href*="ifile.it"]
, [href*="mediafire.com/"],[href*="mfi.re/"]
, [href*="megashare.com/"]
, [href*="rapidshare.com/"]
{ text-decoration: overline !important; -moz-text-decoration-style: wavy !important }
EOS
style -n "link decor: bad hosts" * <<EOS
  [href*="fileserve.com/"] /* slow UI */
, [href*="filesmonster.com/"] /* bad UI and splits big files */
, [href*="filesonic.com/"] /* horrid UI */
, [href*="megaupload.com/"]
, [href*="oron.com/"] /* 60s */
, [href*="uploading.com/"] /* 60s */
{ text-decoration: line-through !important; -moz-text-decoration-style: wavy !important }
EOS
style -n "link decor: video" * <<EOS
:-moz-any(
  [href*="blip.tv/"]
, [href*="collegehumor.com/video/"]
, [href*="dailymotion."][href*="/video/"]
, [href*="escapistmagazine.com/videos/view/"]
, [href*="vimeo.com/"]
, [href*="xvideos.com/video"]
, [href*="youtu.be/"],[href*="youtube.com/watch?"]
)::after { content: "\21af" }
EOS

style -n "link decor: ignco" ignorethecode.net :link { text-decoration: underline !important }
style -n "link decor: people" * <<EOS
:-moz-any(
  [href*="/~cks/"]
, [href*="apenwarr.ca/"]
, [href*="pixelbeat.org/"]
)::after { content: "\22c6" }
EOS
style -n "link decor: WP" * [href*=".wikipedia.org/"]::before { content: url(https://secure.wikimedia.org/favicon.ico) }
style -n "link decor: cracked" * <<EOS
[href*="cracked.com/"]::before { content: url(http:/www.cracked.com/favicon.ico) }
@-moz-document domain("cracked.com") {
               [href*="cracked.com/"]::before { content: none }
               [role="main"] .body section [href*="cracked.com/"]::before { content: url(http:/www.cracked.com/favicon.ico) }
}
EOS

style -n "link decor: tvtropes" * <<EOS
[href*="tvtropes.org/"]::before { content: url(http://tvtropes.org/favicon.ico) }
@-moz-document domain("tvtropes.org") {
               [href*="tvtropes.org/"]::before { content: none }
EOS
style -n "tvtropes spoiler" tvtropes.org .spoiler { color: grey !important } .spoiler a { color: teal !important } a { text-decoration: underline !important }

style -n "lparchive" lparchive.org body { width: auto !important }

style -n "isohunt" isohunt.com .listing { margin-right: 0 !important; background-color: white !important }

style -n "cracked" cracked.com .Body, .body { padding-left: 0 !important }

style -n "lastfm popover" last.fm iframe {height: 100px !important}
" vim: set ft=pentadactyl:
